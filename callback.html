<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callback</title>
</head>
<body>
    <script>
        // Use URLSearchParams to extract tokens from URL hash (after #)
        const urlParams = new URLSearchParams(window.location.hash.substring(1));

        // Assuming YouTube token is passed as "access_token"
        const youtubeToken = urlParams.get("access_token");
        
        // Spotify token might be passed differently, you may need to adjust this
        // Usually, for Spotify, it's sent as 'code' in the URL
        const spotifyToken = urlParams.get("code");

        // Store the tokens in localStorage
        if (youtubeToken) localStorage.setItem("youtube_token", youtubeToken);
        if (spotifyToken) localStorage.setItem("spotify_token", spotifyToken);

        // Redirect back to the main page (or a page to use these tokens)
        window.location.href = "/"; 
    </script>
</body>
</html>
